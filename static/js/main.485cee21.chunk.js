(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{104:function(e,t,n){e.exports={userInfo:"UserPage_userInfo__3MLXv",img:"UserPage_img__156KE",ava:"UserPage_ava__1gQrB",descriptionWrapper:"UserPage_descriptionWrapper__3yZxE",description:"UserPage_description__3B2J7",item:"UserPage_item__9Qja0"}},113:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2goUN",dialogs_items:"Dialogs_dialogs_items__1JDUH",messages:"Dialogs_messages__iGu3o",addMessage:"Dialogs_addMessage__165qa"}},161:function(e,t,n){e.exports={header:"Post_header__1tqHL",item:"Post_item__24f3h",likes:"Post_likes__1RzjT"}},178:function(e,t,n){e.exports={form:"ProfileSettings_form__1rSQL",checkbox:"ProfileSettings_checkbox__9ERdH"}},179:function(e,t,n){e.exports={usersPage:"UsersPage_usersPage__2_3I7",selectedPage:"UsersPage_selectedPage__2Cul_"}},231:function(e,t,n){e.exports={userStatus:"Header_userStatus__2PMWF"}},236:function(e,t,n){e.exports={userNewPosts:"UserPosts_userNewPosts__2GPsv",form:"UserPosts_form__2ZqT6"}},240:function(e,t,n){e.exports={dialog:"DialogItem_dialog__V9wTe"}},241:function(e,t,n){e.exports={message:"Message_message__1p5Lb"}},242:function(e,t,n){e.exports={formWrapper:"Login_formWrapper__1XssD",inputItem:"Login_inputItem__bFZGa",formItem:"Login_formItem__2MqJa"}},252:function(e,t,n){},276:function(e,t,n){},38:function(e,t,n){e.exports={infoContainer:"ProfileInfo_infoContainer__225Sp",mainInfo:"ProfileInfo_mainInfo__2kUCl",description:"ProfileInfo_description__1VwtT",fullName:"ProfileInfo_fullName__3V4m3",avaWrapper:"ProfileInfo_avaWrapper__3WCOi",ava:"ProfileInfo_ava__3LKTB",workStatus:"ProfileInfo_workStatus__26r-F",userDataContainer:"ProfileInfo_userDataContainer__1q0FO",socialLink:"ProfileInfo_socialLink__34X4A",editButton:"ProfileInfo_editButton__1Z8aA"}},421:function(e,t,n){"use strict";n.r(t);n(252);var a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,452)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))},i=n(160),c=n(85),s=n(12),r=n(37),o=n.p+"static/media/userAvatar.9ca0a8b7.jpg",l=n(229),j=n.n(l).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d5ee63b2-b8ea-4e76-b89c-c960812b3f51"}}),u=function(e,t){return j.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},b=function(e){return j.delete("follow/".concat(e)).then((function(e){return e.data}))},d=function(e){return j.post("follow/".concat(e)).then((function(e){return e.data}))},O=function(e){return j.get("profile/".concat(e)).then((function(e){return e.data}))},f=function(e){return j.get("profile/status/".concat(e))},p=function(e){return j.put("profile",e)},h=function(e){return j.put("profile/status",{status:e})},m=function(e){var t=new FormData;return t.append("image",e),j.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},x=function(){return j.get("auth/me").then((function(e){return e.data}))},g=function(e){return j.post("auth/login",e)},v=function(){return j.delete("auth/login")},_="ADD-POST",k="SET-STATUS",w="SET-USER-PROFILE",N={profile:{photos:{large:o,small:o},fullName:"",aboutMe:"",userId:""},status:"",postsData:[{id:Object(r.v1)(),postContent:"Hello World !!!",postLikes:15},{id:Object(r.v1)(),postContent:"It's my first post!!",postLikes:28}]},P=function(e){return{type:k,newText:e}},S=function(e){return function(t){O(e).then((function(e){t({type:w,profile:e})}))}},I=function(e){return function(t){h(e).then((function(n){console.log(n),0===n.data.resultCode&&t(P(e))}))}},y=function(e){var t=ae.getState(),n={userID:t.profilePage.profile.userId,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription?e.lookingForAJobDescription:"-",fullName:e.fullName,aboutMe:e.aboutMe?e.aboutMe:"-",contacts:{github:e.github,vk:e.vk,facebook:e.facebook,instagram:e.instagram,twitter:e.twitter,website:e.website,youtube:e.youtube,mainLink:e.mainLink}};return function(e){p(n).then((function(){e(S(t.auth.data.id))}))}},C=function(e){var t=ae.getState().auth.data.id;return function(n){m(e).then((function(){n(S(t))}))}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:var n={id:Object(r.v1)(),postContent:t.newPostText,postLikes:0};return Object(s.a)(Object(s.a)({},e),{},{postsData:[n].concat(Object(c.a)(e.postsData))});case k:return Object(s.a)(Object(s.a)({},e),{},{status:t.newText});case w:return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});default:return e}},A=n.p+"static/media/dimych.4cfb0ddb.jpg",E=n.p+"static/media/andrey.05d81a41.jpg",T=n.p+"static/media/sveta.2e2af972.jpg",L="ADD-MESSAGE",D={dialogsData:[{id:"2",userName:"Dimych",avatar:A},{id:Object(r.v1)(),userName:"Andrey",avatar:E},{id:Object(r.v1)(),userName:"Sveta",avatar:T},{id:Object(r.v1)(),userName:"Sasha"},{id:Object(r.v1)(),userName:"Viktor"},{id:Object(r.v1)(),userName:"Valera"}],messageData:[{id:Object(r.v1)(),messageText:"HI"},{id:Object(r.v1)(),messageText:"Hello"},{id:Object(r.v1)(),messageText:"YO"}],newMessageText:""},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:var n={id:Object(r.v1)(),messageText:t.newMessage};return Object(s.a)(Object(s.a)({},e),{},{messageData:[].concat(Object(c.a)(e.messageData),[n])});default:return e}},M={contactsData:[{id:Object(r.v1)(),userName:"Dimych",avatar:A},{id:Object(r.v1)(),userName:"Andrey",avatar:E},{id:Object(r.v1)(),userName:"Sveta",avatar:T}]},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return e},J="FOLLOW",z="UNFOLLOW",W="SET-USERS",B="SET-CURRENT-PAGE",G="SET-TOTAL-USERS-COUNT",H="CHANGE-FETCHING-STATUS",V="CHANGE-RESPONSE-STATUS",Z={users:[],pageSize:5,totalCount:0,currentPage:1,isFetching:!1,responseInProgress:!0,followingUsers:[]},q=function(e){return{type:H,isFetching:e}},K=function(e,t){return{type:V,responseInProgress:e,id:t}},Y=function(e,t){return function(n){n(q(!0)),u(e,t).then((function(t){var a,i;n((a=t.items,{type:W,users:a})),n(function(e){return{type:B,currentPage:e}}(e)),n((i=t.totalCount,{type:G,totalCount:i})),n(q(!1))}))}},Q=function(e,t){return function(n){n(K(!0,e)),t?b(e).then((function(t){0===t.resultCode&&(n(function(e){return{type:z,id:e}}(e)),n(K(!1,e)))})):d(e).then((function(t){0===t.resultCode&&(n(function(e){return{type:J,id:e}}(e)),n(K(!1,e)))}))}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{followed:!0}):e}))});case z:return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{followed:!1}):e}))});case W:return Object(s.a)(Object(s.a)({},e),{},{users:Object(c.a)(t.users)});case B:return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.currentPage});case G:return Object(s.a)(Object(s.a)({},e),{},{totalCount:t.totalCount});case H:return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case V:return Object(s.a)(Object(s.a)({},e),{},{followingUsers:t.responseInProgress?[].concat(Object(c.a)(e.followingUsers),[t.id]):e.followingUsers.filter((function(e){return e!==t.id}))});default:return e}},$={data:{id:"",email:"",login:""},isAuth:!1,isInitialized:!1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(s.a)(Object(s.a)({},e),{},{data:t.data,isAuth:!0});case"USER_BEEN_LOGINED":return Object(s.a)(Object(s.a)({},e),{},{isAuth:!0});case"USER_BEEN_LOGINED_OUT":return Object(s.a)(Object(s.a)({},e),{},{isAuth:!1});case"SET-APP-INITIALIZED":return Object(s.a)(Object(s.a)({},e),{},{isInitialized:t.isInitialized});default:return e}},te=n(230),ne=Object(i.b)({profilePage:F,dialogsPage:U,rightNavbar:R,users:X,auth:ee}),ae=Object(i.c)(ne,Object(i.a)(te.a)),ie=n(0),ce=n.n(ie),se=n(27),re=n.n(se),oe=(n(276),n(277),n(423)),le=n(61),je=n(180),ue=n(434),be=n(435),de=n(436),Oe=n(437),fe=n(438),pe=n(439),he=n(30),me=n(3),xe=oe.a.Sider;var ge=function(){var e=Object(ie.useState)(!0),t=Object(le.a)(e,2),n=t[0],a=t[1];return Object(me.jsx)(xe,{collapsible:!0,collapsed:n,onCollapse:function(){a(!n)},children:Object(me.jsxs)(je.a,{theme:"dark",mode:"inline",children:[Object(me.jsx)(je.a.Item,{icon:Object(me.jsx)(ue.a,{}),children:Object(me.jsx)(he.b,{to:"/social-network/news/",children:"News"})},"1"),Object(me.jsx)(je.a.Item,{icon:Object(me.jsx)(be.a,{}),children:Object(me.jsx)(he.b,{to:"/social-network/profile/18309",children:"Profile"})},"2"),Object(me.jsx)(je.a.Item,{icon:Object(me.jsx)(de.a,{}),children:Object(me.jsx)(he.b,{to:"/social-network/dialogs/",children:"Messages"})},"3"),Object(me.jsx)(je.a.Item,{icon:Object(me.jsx)(Oe.a,{}),children:Object(me.jsx)(he.b,{to:"/social-network/users-page",children:"Developers"})},"4"),Object(me.jsx)(je.a.Item,{icon:Object(me.jsx)(fe.a,{}),children:Object(me.jsx)(he.b,{to:"/social-network/music/",children:"Music"})},"5"),Object(me.jsx)(je.a.Item,{icon:Object(me.jsx)(pe.a,{}),children:Object(me.jsx)(he.b,{to:"/social-network/settings/",children:"Settings"})},"6")]})})},ve=n(19),_e=n(70),ke=n(431),we=n(245),Ne=n(56),Pe=n(231),Se=n.n(Pe),Ie=ce.a.memo((function(){var e=Object(ve.b)(),t=Object(ve.c)((function(e){return e.auth.isAuth})),n=Object(ve.c)((function(e){return e.auth.data.login}));Object(ie.useEffect)((function(){}),[t,n]);var a=Object(ie.useCallback)((function(){e((function(e){v().then((function(t){0===t.data.resultCode&&e({type:"USER_BEEN_LOGINED_OUT"})}))}))}),[e]);return Object(me.jsx)(ke.a,{title:"Social Network",extra:t?Object(me.jsxs)("div",{className:Se.a.userStatus,children:[Object(me.jsxs)(he.c,{to:"/social-network/profile",children:[Object(me.jsx)(we.a,{style:{backgroundColor:"#87d068"},icon:Object(me.jsx)(be.a,{})}),n]}),Object(me.jsx)(Ne.a,{onClick:a,children:"Log Out"})]}):Object(me.jsx)(he.c,{to:"/social-network/login",children:Object(me.jsx)(Ne.a,{color:"primary",children:"Login"})})})})),ye=function(e){return e.auth.isAuth},Ce=function(e){return e.auth.isInitialized},Fe=function(e){return e.auth.data.id},Ae=function(e){return e.profilePage},Ee=function(e){return e.profilePage.profile.userId},Te=function(e){return e.users.users},Le=function(e){return e.users.totalCount},De=function(e){return e.users.pageSize},Ue=function(e){return e.users.currentPage},Me=function(e){return e.users.followingUsers},Re=function(e){return e.dialogsPage},Je=function(e){return e.profilePage.postsData},ze=n(28),We=n(103),Be=n.n(We),Ge=n(141),He=n(433),Ve=n(424),Ze=Object(me.jsx)(_e.a,{style:{fontSize:48},spin:!0}),qe=function(){return Object(me.jsx)(He.b,{style:{display:"flex",width:"100%",justifyContent:"center"},size:"large",children:Object(me.jsx)(Ve.a,{indicator:Ze})})},Ke=n(38),Ye=n.n(Ke),Qe=n(159),Xe=n(181),$e=["status"],et=ce.a.memo((function(e){var t=e.status,n=(Object(Qe.a)(e,$e),Object(ve.b)()),a=Object(ie.useState)(!1),i=Object(le.a)(a,2),c=i[0],s=i[1],r=Object(ie.useState)(t),o=Object(le.a)(r,2),l=o[0],j=o[1];return Object(me.jsx)("div",{style:{height:"32px"},children:c?Object(me.jsx)(Xe.a,{autoFocus:!0,onBlur:function(){s(!1),n(I(l))},onKeyPress:function(e){"Enter"===e.key&&(s(!1),n(I(l)))},onChange:function(e){j(e.currentTarget.value)},value:l}):Object(me.jsx)("span",{onDoubleClick:function(){s(!0),j(t)},children:t||"-----"})})})),tt=n(126),nt=n.n(tt),at=n(33),it=n(250),ct=n(178),st=n.n(ct),rt=function(e){var t,n,a,i,c,r,o,l,j=Object(ve.b)(),u=Object(at.e)({enableReinitialize:!0,initialValues:{fullName:e.profile.profile.fullName,lookingForAJobDescription:"-"===e.profile.profile.lookingForAJobDescription?"":e.profile.profile.lookingForAJobDescription,lookingForAJob:e.profile.profile.lookingForAJob,aboutMe:"-"===e.profile.profile.aboutMe?"":e.profile.profile.aboutMe,github:null===(t=e.profile.profile.contacts)||void 0===t?void 0:t.github,vk:null===(n=e.profile.profile.contacts)||void 0===n?void 0:n.vk,facebook:null===(a=e.profile.profile.contacts)||void 0===a?void 0:a.facebook,instagram:null===(i=e.profile.profile.contacts)||void 0===i?void 0:i.instagram,twitter:null===(c=e.profile.profile.contacts)||void 0===c?void 0:c.twitter,website:null===(r=e.profile.profile.contacts)||void 0===r?void 0:r.website,youtube:null===(o=e.profile.profile.contacts)||void 0===o?void 0:o.youtube,mainLink:null===(l=e.profile.profile.contacts)||void 0===l?void 0:l.mainLink},onSubmit:function(){var t=Object(Ge.a)(Be.a.mark((function t(n){return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.resetForm(),t.next=3,j(y(n));case 3:e.onSubmitClick();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});return Object(me.jsx)(nt.a,{title:"Profile settings",visible:e.visible,onOk:function(){u.handleSubmit()},onCancel:e.onCancelClick,children:Object(me.jsxs)("form",{className:st.a.form,children:[Object(me.jsxs)("div",{children:[Object(me.jsx)("h4",{children:"Full Name"}),Object(me.jsx)(Xe.a,Object(s.a)({placeholder:"Full Name"},u.getFieldProps("fullName")))]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("h4",{children:"About Me"}),Object(me.jsx)(Xe.a,Object(s.a)({placeholder:"About Me"},u.getFieldProps("aboutMe")))]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("h4",{children:"Additional information for employers"}),Object(me.jsx)(Xe.a,Object(s.a)({placeholder:"Additional information for employers"},u.getFieldProps("lookingForAJobDescription")))]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("h4",{children:"GitHub"}),Object(me.jsx)(Xe.a,Object(s.a)({placeholder:"GitHub"},u.getFieldProps("github")))]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("h4",{children:"VK"}),Object(me.jsx)(Xe.a,Object(s.a)({placeholder:"VK"},u.getFieldProps("vk")))]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("h4",{children:"Facebook"}),Object(me.jsx)(Xe.a,Object(s.a)({placeholder:"Facebook"},u.getFieldProps("facebook")))]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("h4",{children:"Instagram"}),Object(me.jsx)(Xe.a,Object(s.a)({placeholder:"Instagram"},u.getFieldProps("instagram")))]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("h4",{children:"Twitter"}),Object(me.jsx)(Xe.a,Object(s.a)({placeholder:"Twitter"},u.getFieldProps("twitter")))]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("h4",{children:"Website"}),Object(me.jsx)(Xe.a,Object(s.a)({placeholder:"Website"},u.getFieldProps("website")))]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("h4",{children:"YouTube"}),Object(me.jsx)(Xe.a,Object(s.a)({placeholder:"YouTube"},u.getFieldProps("youtube")))]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("h4",{children:"Main Link"}),Object(me.jsx)(Xe.a,Object(s.a)({placeholder:"Main Link"},u.getFieldProps("mainLink")))]}),Object(me.jsx)(it.a,Object(s.a)(Object(s.a)({className:st.a.checkbox,checked:u.values.lookingForAJob},u.getFieldProps("lookingForAJob")),{},{children:"I'm open to work"}))]})})},ot=n(432),lt=function(e){return Object(me.jsx)(ot.a,{visible:e.visible,onOk:e.onSubmitClick,onCancel:e.onCancelClick,children:Object(me.jsx)("input",{onChange:e.selectPhoto,type:"file"})})},jt=n(440),ut=n(441),bt=n(442),dt=n(443),Ot=n(444),ft=n(445),pt=n(446),ht=n(447);var mt=function(){var e,t,n,a,i,c,s,r,o,l,j,u,b,d,O=Object(ve.b)(),f=Object(ie.useState)(!1),p=Object(le.a)(f,2),h=p[0],m=p[1],x=Object(ie.useState)(!1),g=Object(le.a)(x,2),v=g[0],_=g[1],k=Object(ve.c)(Ae),w=Object(ve.c)(Fe),N=Object(ie.useState)(),P=Object(le.a)(N,2),S=P[0],I=P[1],y=function(){var e=Object(Ge.a)(Be.a.mark((function e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!1),e.t0=S,!e.t0){e.next=5;break}return e.next=5,O(C(S));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k.profile?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(rt,{visible:h,onSubmitClick:function(){m(!1)},onCancelClick:function(){m(!1)},profile:k}),Object(me.jsx)(lt,{visible:v,onSubmitClick:y,onCancelClick:function(){_(!1)},selectPhoto:function(e){I(e.target.files[0])}}),Object(me.jsxs)("div",{className:Ye.a.infoContainer,children:[Object(me.jsxs)("div",{className:Ye.a.mainInfo,children:[Object(me.jsxs)("div",{className:Ye.a.avaWrapper,children:[Object(me.jsx)(we.a,{className:Ye.a.ava,alt:"".concat(k.profile.userId," user ava"),src:null!==k.profile.photos.small?k.profile.photos.small:T}),Object(me.jsx)(Ne.a,{type:"text",icon:Object(me.jsx)(jt.a,{}),onClick:function(){_(!0)}})]}),Object(me.jsxs)("div",{className:Ye.a.description,children:[Object(me.jsxs)("span",{className:Ye.a.fullName,children:[k.profile.fullName,k.profile.lookingForAJob&&Object(me.jsx)("span",{className:Ye.a.workStatus,children:"(Open to work)"})]}),Object(me.jsx)(et,{status:k.status})]})]}),Object(me.jsxs)("div",{className:Ye.a.userDataContainer,children:[k.profile.userId===w&&Object(me.jsx)(Ne.a,{className:Ye.a.editButton,onClick:function(){m(!0)},children:"Edit Profile"}),(null===(e=k.profile.contacts)||void 0===e?void 0:e.github)&&Object(me.jsxs)("p",{children:[Object(me.jsx)(ut.a,{})," ",Object(me.jsx)("a",{className:Ye.a.socialLink,children:null===(t=k.profile.contacts)||void 0===t?void 0:t.github})]}),(null===(n=k.profile.contacts)||void 0===n?void 0:n.facebook)&&Object(me.jsxs)("p",{children:[Object(me.jsx)(bt.a,{})," ",Object(me.jsx)("a",{className:Ye.a.socialLink,children:null===(a=k.profile.contacts)||void 0===a?void 0:a.facebook})]}),(null===(i=k.profile.contacts)||void 0===i?void 0:i.instagram)&&Object(me.jsxs)("p",{children:[Object(me.jsx)(dt.a,{})," ",Object(me.jsx)("a",{className:Ye.a.socialLink,children:null===(c=k.profile.contacts)||void 0===c?void 0:c.instagram})]}),(null===(s=k.profile.contacts)||void 0===s?void 0:s.twitter)&&Object(me.jsxs)("p",{children:[Object(me.jsx)(Ot.a,{})," ",Object(me.jsx)("a",{className:Ye.a.socialLink,children:null===(r=k.profile.contacts)||void 0===r?void 0:r.twitter})]}),(null===(o=k.profile.contacts)||void 0===o?void 0:o.youtube)&&Object(me.jsxs)("p",{children:[Object(me.jsx)(ft.a,{})," ",Object(me.jsx)("a",{className:Ye.a.socialLink,children:null===(l=k.profile.contacts)||void 0===l?void 0:l.youtube})]}),(null===(j=k.profile.contacts)||void 0===j?void 0:j.website)&&Object(me.jsxs)("p",{children:[Object(me.jsx)(pt.a,{})," ",Object(me.jsx)("a",{className:Ye.a.socialLink,children:null===(u=k.profile.contacts)||void 0===u?void 0:u.website})]}),(null===(b=k.profile.contacts)||void 0===b?void 0:b.mainLink)&&Object(me.jsxs)("p",{children:[Object(me.jsx)(ht.a,{})," ",Object(me.jsx)("a",{className:Ye.a.socialLink,children:null===(d=k.profile.contacts)||void 0===d?void 0:d.mainLink})]})]})]})]}):Object(me.jsx)(qe,{})},xt=n(236),gt=n.n(xt),vt=n(161),_t=n.n(vt),kt=n(430),wt=n(448),Nt=n(449);var Pt=function(e){var t=Object(ve.c)((function(e){return e.profilePage.profile.photos.small})),n=Object(ve.c)((function(e){return e.profilePage.profile.fullName})),a=Object(ie.useState)(!1),i=Object(le.a)(a,2),c=i[0],s=i[1];return Object(me.jsxs)(kt.a,{title:Object(me.jsxs)("div",{className:_t.a.header,children:[Object(me.jsx)(we.a,{size:"large",src:null!==t?t:T,alt:"userImage"}),Object(me.jsx)("span",{children:n})]}),className:_t.a.item,children:[Object(me.jsx)("div",{children:e.postContent}),Object(me.jsxs)("div",{className:_t.a.likes,children:[Object(me.jsx)("span",{children:e.postLikes}),Object(me.jsx)(Ne.a,{icon:c?Object(me.jsx)(wt.a,{}):Object(me.jsx)(Nt.a,{}),onClick:function(){return s(!c)},shape:"circle",type:"text"})]})]})},St=n(425),It=n(238),yt=n(426),Ct=n(427);var Ft=function(){var e=Object(ve.c)(Je),t=Object(ve.c)(Fe)===Object(ve.c)(Ee),n=e.map((function(e){return Object(me.jsx)(Pt,{postContent:e.postContent,postLikes:e.postLikes,id:e.id},e.id)})),a=Object(ve.b)();return Object(me.jsxs)("div",{children:[Object(me.jsx)("div",{className:gt.a.userNewPosts,children:Object(me.jsx)(at.c,{initialValues:{post:""},onSubmit:function(e,t){var n;a((n=e.post,{type:_,newPostText:n})),t.resetForm()},render:function(){return Object(me.jsx)(St.a,{children:t&&Object(me.jsxs)("div",{children:[Object(me.jsx)(It.a,{label:"Your Post",name:"post",children:Object(me.jsx)(yt.a.TextArea,{name:"post"})}),Object(me.jsx)(Ct.a,{children:"Post"})]})})}})}),n]})},At=function(){var e=Object(ze.f)().userId,t=Object(ve.c)(Fe),n=Object(ve.b)();return Object(ie.useEffect)((function(){e&&":userId"!==e||(e=t),n(S(e)),n(function(e){return function(t){f(e).then((function(e){t(P(e.data))}))}}(e))}),[e]),Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(mt,{}),Object(me.jsx)(Ft,{})]})};var Et=function(){return Object(me.jsx)("div",{children:"Music"})};var Tt=function(){return Object(me.jsx)("div",{children:"News"})};var Lt=function(){return Object(me.jsx)(me.Fragment,{children:"Settings"})},Dt=n(179),Ut=n.n(Dt),Mt=n(104),Rt=n.n(Mt),Jt=n(450),zt=n(451),Wt=["user"],Bt=ce.a.memo((function(e){var t=e.user,n=(Object(Qe.a)(e,Wt),Object(ve.b)()),a=Object(ve.c)(Me);return Object(me.jsxs)("div",{className:Rt.a.userInfo,children:[Object(me.jsxs)("div",{className:Rt.a.ava,children:[Object(me.jsx)(he.c,{to:"/social-network/profile/"+t.id,children:Object(me.jsx)("img",{src:null!==t.photos.small?t.photos.small:T,alt:t.id+" avatar",className:Rt.a.img})}),Object(me.jsx)(Ne.a,{size:"small",onClick:function(){return n(Q(t.id,t.followed))},disabled:a.some((function(e){return e===t.id})),icon:t.followed?Object(me.jsx)(zt.a,{}):Object(me.jsx)(Jt.a,{}),shape:"circle",type:"text"})]}),Object(me.jsx)(kt.a,{title:Object(me.jsx)(he.c,{to:"/social-network/profile/"+t.id,style:{textDecoration:"none",color:"black"},children:t.name}),className:Rt.a.descriptionWrapper,children:Object(me.jsxs)("div",{className:Rt.a.description,style:{fontSize:"13px"},children:['" ',t.status,' "',Object(me.jsxs)("div",{style:{fontSize:"15px",textAlign:"center"},children:[Object(me.jsx)("div",{children:"Belarus,"}),Object(me.jsx)("div",{children:"Minsk"})]})]})})]},t.id)})),Gt=n(429),Ht=function(){var e=Object(ve.b)(),t=Object(ve.c)(Te),n=Object(ve.c)(Ue),a=Object(ve.c)(De),i=Object(ve.c)(Le);return Object(ie.useEffect)((function(){e(Y(n,a))}),[n,a]),Object(me.jsxs)("div",{className:Ut.a.usersPage,children:[t.map((function(e){return Object(me.jsx)(Bt,{user:e},e.id)})),Object(me.jsx)("div",{className:Ut.a.pagination,children:Object(me.jsx)(Gt.a,{current:n,pageSize:a,total:i,onChange:function(t){return e(Y(t,a))}})})]})},Vt=n(113),Zt=n.n(Vt),qt=n(240),Kt=n.n(qt),Yt=function(e){var t="/social-network/profile/"+e.id;return Object(me.jsxs)("div",{className:Kt.a.dialog,children:[e.avatar?Object(me.jsx)("img",{src:e.avatar,alt:"userImage"}):"",Object(me.jsx)(he.c,{to:t,children:e.userName})]})},Qt=n(241),Xt=n.n(Qt),$t=function(e){return Object(me.jsx)("div",{className:Xt.a.message,children:e.messageText})},en=function(e){var t=Object(ve.c)(Re),n=Object(ve.b)(),a=t.dialogsData.map((function(e){return Object(me.jsx)(Yt,{userName:e.userName,id:e.id,avatar:e.avatar},e.id)})),i=t.messageData.map((function(e){return Object(me.jsx)($t,{messageText:e.messageText,id:e.id},e.id)}));return Object(me.jsxs)("div",{className:Zt.a.dialogs,children:[Object(me.jsx)("div",{className:Zt.a.dialogs_items,children:a}),Object(me.jsxs)("div",{className:Zt.a.messages,children:[i,Object(me.jsx)("div",{className:Zt.a.addMessage,children:Object(me.jsx)(at.c,{initialValues:{message:""},onSubmit:function(e,t){var a;n((a=e.message,{type:L,newMessage:a})),t.resetForm()},render:function(){return Object(me.jsxs)(St.a,{children:[Object(me.jsx)(It.a,{label:"Message",name:"message",children:Object(me.jsx)(yt.a,{name:"message"})}),Object(me.jsx)(Ct.a,{children:"Send"})]})}})})]})]})},tn=function(){return Object(ve.c)(ye)?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ze.b,{path:"/social-network/dialogs",render:function(){return Object(me.jsx)(en,{})}}),Object(me.jsx)(ze.b,{path:"/social-network/profile/:userId?",render:function(){return Object(me.jsx)(At,{})}}),Object(me.jsx)(ze.b,{path:"/social-network/users-page",render:function(){return Object(me.jsx)(Ht,{})}}),Object(me.jsx)(ze.b,{path:"/social-network/music",component:Et}),Object(me.jsx)(ze.b,{path:"/social-network/news",component:Tt}),Object(me.jsx)(ze.b,{path:"/social-network/settings",component:Lt})]}):Object(me.jsx)(ze.a,{to:"/social-network/login"})},nn=n(428),an=n(242),cn=n.n(an),sn=function(){var e=Object(ve.c)(ye),t=Object(ve.b)();return e?Object(me.jsx)(ze.a,{to:"/social-network/profile/:userId?"}):Object(me.jsx)(at.c,{initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(e,n){var a;t((a=e,function(e){g(a).then((function(t){0===t.data.resultCode&&e({type:"USER_BEEN_LOGINED"})}))})),n.resetForm()},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?/^[A-Z0-9._%+-]{4,}$/i.test(e.password)||(t.password="Password must be longer than 3 symbols"):t.password="Required",t},render:function(){return Object(me.jsxs)(St.a,{className:cn.a.formWrapper,children:[Object(me.jsxs)("p",{children:["To log in get registered",Object(me.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",children:"here"})]}),Object(me.jsx)("p",{children:"or use common test account credentials:"}),Object(me.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(me.jsx)("p",{children:"Password: free"}),Object(me.jsx)(It.a,{label:"Email",name:"email",children:Object(me.jsx)(yt.a,{name:"email"})}),Object(me.jsx)(It.a,{label:"Password",name:"password",children:Object(me.jsx)(yt.a.Password,{name:"password"})}),Object(me.jsx)(It.a,{name:"rememberMe",children:Object(me.jsx)(nn.a,{name:"rememberMe",children:"RememberMe"})}),Object(me.jsx)(Ct.a,{children:"Login"})]})}})},rn=oe.a.Content,on=oe.a.Footer,ln=function(){var e=Object(ve.c)(Ce),t=Object(ve.b)();return Object(ie.useEffect)((function(){t((function(e){x().then((function(t){0===t.resultCode&&e(function(e){return{type:"SET-USER-DATA",data:e}}(t.data))})).finally((function(){e({type:"SET-APP-INITIALIZED",isInitialized:!0})}))}))}),[]),e?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(Ie,{}),Object(me.jsxs)(oe.a,{style:{minHeight:"100vh"},children:[Object(me.jsx)(ge,{}),Object(me.jsxs)(oe.a,{className:"site-layout",children:[Object(me.jsx)(rn,{style:{margin:"0 16px"},children:Object(me.jsxs)("div",{className:"site-layout-background",children:[Object(me.jsx)(tn,{}),Object(me.jsx)(ze.b,{path:"/social-network/login",component:sn})]})}),Object(me.jsx)(on,{style:{textAlign:"center"},children:"Social Network \xa92021 by Matumba125"})]})]})]}):Object(me.jsx)(_e.a,{style:{fontSize:"48px"}})};re.a.render(Object(me.jsx)(he.a,{children:Object(me.jsx)(ve.a,{store:ae,children:Object(me.jsx)(ln,{})})}),document.getElementById("root")),a()}},[[421,1,2]]]);
//# sourceMappingURL=main.485cee21.chunk.js.map