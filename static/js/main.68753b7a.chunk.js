(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{117:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);a(92);var s=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,168)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))},n=a(52),r=a(33),c=a(7),i=a(16),o=a.p+"static/media/userAvatar.9ca0a8b7.jpg",l=a(71),u=a.n(l).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d5ee63b2-b8ea-4e76-b89c-c960812b3f51"}}),j=function(e,t){return u.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},d=function(e){return u.delete("follow/".concat(e)).then((function(e){return e.data}))},b=function(e){return u.post("follow/".concat(e)).then((function(e){return e.data}))},p=function(e){return u.get("profile/".concat(e)).then((function(e){return e.data}))},h=function(){return u.get("auth/me").then((function(e){return e.data}))},g="ADD-POST",f="CHANGE-POST-TEXT",O="SET-USER-PROFILE",m={profile:{photos:{large:o,small:o},fullName:"Nikita"},messageForNewPost:"",postsData:[{id:Object(i.v1)(),postContent:"Hello World !!!",postLikes:15},{id:Object(i.v1)(),postContent:"It's my first post!!",postLikes:28}]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var a={id:Object(i.v1)(),postContent:e.messageForNewPost,postLikes:0};return Object(c.a)(Object(c.a)({},e),{},{postsData:[a].concat(Object(r.a)(e.postsData)),messageForNewPost:""});case f:return Object(c.a)(Object(c.a)({},e),{},{messageForNewPost:t.newText});case O:return Object(c.a)(Object(c.a)({},e),{},{profile:t.profile});default:return e}},v=a.p+"static/media/dimych.4cfb0ddb.jpg",N=a.p+"static/media/andrey.05d81a41.jpg",_=a.p+"static/media/sveta.2e2af972.jpg",P="ADD-MESSAGE",w="CHANGE-MESSAGE-TEXT",T={dialogsData:[{id:Object(i.v1)(),userName:"Dimych",avatar:v},{id:Object(i.v1)(),userName:"Andrey",avatar:N},{id:Object(i.v1)(),userName:"Sveta",avatar:_},{id:Object(i.v1)(),userName:"Sasha"},{id:Object(i.v1)(),userName:"Viktor"},{id:Object(i.v1)(),userName:"Valera"}],messageData:[{id:Object(i.v1)(),messageText:"HI"},{id:Object(i.v1)(),messageText:"Hello"},{id:Object(i.v1)(),messageText:"YO"}],newMessageText:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:var a={id:Object(i.v1)(),messageText:e.newMessageText};return Object(c.a)(Object(c.a)({},e),{},{messageData:[].concat(Object(r.a)(e.messageData),[a]),newMessageText:""});case w:return Object(c.a)(Object(c.a)({},e),{},{newMessageText:t.newText});default:return e}},k={contactsData:[{id:Object(i.v1)(),userName:"Dimych",avatar:v},{id:Object(i.v1)(),userName:"Andrey",avatar:N},{id:Object(i.v1)(),userName:"Sveta",avatar:_}]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return e},S="FOLLOW",A="UNFOLLOW",U="SET-USERS",D="SET-CURRENT-PAGE",E="SET-TOTAL-USERS-COUNT",F="CHANGE-FETCHING-STATUS",I="CHANGE-RESPONSE-STATUS",M={users:[],pageSize:5,totalCount:0,currentPage:1,isFetching:!1,responseInProgress:!0,followingUsers:[]},L=function(e){return{type:F,isFetching:e}},B=function(e,t){return{type:I,responseInProgress:e,id:t}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(c.a)(Object(c.a)({},e),{},{followed:!0}):e}))});case A:return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(c.a)(Object(c.a)({},e),{},{followed:!1}):e}))});case U:return Object(c.a)(Object(c.a)({},e),{},{users:Object(r.a)(t.users)});case D:return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case E:return Object(c.a)(Object(c.a)({},e),{},{totalCount:t.totalCount});case F:return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.isFetching});case I:return Object(c.a)(Object(c.a)({},e),{},{followingUsers:t.responseInProgress?[].concat(Object(r.a)(e.followingUsers),[t.id]):e.followingUsers.filter((function(e){return e!==t.id}))});default:return e}},z="SET-USER-DATA",G={data:{id:null,email:null,login:null},isAuth:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(c.a)(Object(c.a)({},e),{},{data:t.data,isAuth:!0});default:return e}},W=a(72),Q=Object(n.b)({profilePage:x,dialogsPage:y,rightNavbar:C,users:R,auth:H}),Y=Object(n.c)(Q,Object(n.a)(W.a)),J=a(0),K=a.n(J),X=a(10),q=a.n(X),V=(a(117),a(14)),Z=a(22),$=a.n(Z),ee=a(152),te=a(126),ae=a(2);var se=function(){return Object(ae.jsxs)(ee.a,{container:!0,item:!0,className:$.a.leftNav,xs:!0,zeroMinWidth:!0,direction:"column",children:[Object(ae.jsx)(te.a,{className:$.a.navBlock,children:Object(ae.jsx)("h2",{className:$.a.navbarTitle,children:"New Feeds"})}),Object(ae.jsxs)(te.a,{className:$.a.navBlock,children:[Object(ae.jsx)("h2",{className:$.a.navbarTitle,children:"More Pages"}),Object(ae.jsx)("div",{className:$.a.item,children:Object(ae.jsx)(V.b,{to:"/social-network/profile/",children:"Profile"})}),Object(ae.jsx)("div",{className:$.a.item,children:Object(ae.jsx)(V.b,{to:"/social-network/dialogs/",children:"Messages"})}),Object(ae.jsx)("div",{className:$.a.item,children:Object(ae.jsx)(V.b,{to:"/social-network/news/",children:"News"})}),Object(ae.jsx)("div",{className:$.a.item,children:Object(ae.jsx)(V.b,{to:"/social-network/music/",children:"Music"})})]}),Object(ae.jsxs)(te.a,{className:$.a.navBlock,children:[Object(ae.jsx)("h2",{className:$.a.navbarTitle,children:"Account"}),Object(ae.jsx)("div",{className:$.a.item,children:Object(ae.jsx)(V.b,{to:"/social-network/settings/",children:"Settings"})})]})]})},ne=a(13);var re=function(){return Object(ae.jsx)("div",{children:"Music"})};var ce=function(){return Object(ae.jsx)("div",{children:"News"})};var ie=function(){return Object(ae.jsx)("div",{children:"Settings"})},oe=a(45),le=a.n(oe),ue=a(77),je=a.n(ue),de=function(e){var t="/social-network/profile/"+e.id;return Object(ae.jsxs)("div",{className:je.a.dialog,children:[e.avatar?Object(ae.jsx)("img",{src:e.avatar,alt:"userImage"}):"",Object(ae.jsx)(V.b,{to:t,children:e.userName})]})},be=a(78),pe=a.n(be),he=function(e){return Object(ae.jsx)("div",{className:pe.a.message,children:e.messageText})},ge=function(e){var t=e.dialogsPage,a=t.dialogsData.map((function(e){return Object(ae.jsx)(de,{userName:e.userName,id:e.id,avatar:e.avatar},e.id)})),s=t.messageData.map((function(e){return Object(ae.jsx)(he,{messageText:e.messageText,id:e.id},e.id)}));return Object(ae.jsxs)("div",{className:le.a.dialogs,children:[Object(ae.jsx)("div",{className:le.a.dialogs_items,children:a}),Object(ae.jsxs)("div",{className:le.a.messages,children:[s,Object(ae.jsxs)("div",{className:le.a.addMessage,children:[Object(ae.jsx)("textarea",{onChange:function(t){e.changeMessageText(t.currentTarget.value)},value:t.newMessageText}),Object(ae.jsx)("button",{onClick:function(){e.addMessage()},children:"Send"})]})]})]})},fe=a(18),Oe=a(82),me=["isAuth"],xe=function(e){return{isAuth:e.auth.isAuth}};function ve(e){return Object(fe.b)(xe)((function(t){var a=t.isAuth,s=Object(Oe.a)(t,me);return a?Object(ae.jsx)(e,Object(c.a)({},s)):Object(ae.jsx)(ne.a,{to:"/social-network/login"})}))}var Ne=ve(ge),_e=Object(fe.b)((function(e){return{dialogsPage:e.dialogsPage}}),{addMessage:function(){return{type:P}},changeMessageText:function(e){return{type:w,newText:e}}})(Ne),Pe=a(30),we=a.n(Pe),Te=a(79),ye=a.n(Te);var ke=function(e){return Object(ae.jsxs)("div",{className:ye.a.contact,children:[e.avatar?Object(ae.jsx)("img",{src:e.avatar,alt:"contactImage"}):"",Object(ae.jsx)("div",{children:e.userName})]})};var Ce=function(e){var t=e.rightnavData.contactsData.map((function(e){return Object(ae.jsx)(ke,{userName:e.userName,id:e.id,avatar:e.avatar},e.id)}));return Object(ae.jsx)(ee.a,{item:!0,xs:!0,zeroMinWidth:!0,children:Object(ae.jsxs)(te.a,{color:"inherit",className:we.a.rightNav,children:[Object(ae.jsxs)("div",{className:we.a.rightNavItem,children:[Object(ae.jsx)("h2",{className:we.a.navbarTitle,children:"Contacts"}),t]}),Object(ae.jsx)("div",{className:we.a.groupsNavbar,children:Object(ae.jsx)("h2",{className:we.a.navbarTitle,children:"Groups"})}),Object(ae.jsx)("div",{className:we.a.pagesNavbar,children:Object(ae.jsx)("h2",{className:we.a.navbarTitle,children:"Pages"})})]})})},Se=Object(fe.b)((function(e){return{rightnavData:e.rightNavbar}}),(function(e){return{}}))(Ce),Ae=a(165),Ue=a(35),De=a(36),Ee=a(38),Fe=a(37),Ie=a(156),Me=a(26),Le=a.n(Me),Be=a(157),Re=function(e){for(var t=[],a=1;a<=10;a++)t.push(a);return Object(ae.jsxs)(ee.a,{item:!0,container:!0,direction:"column",className:Le.a.usersPage,children:[e.users.map((function(t){return Object(ae.jsxs)(ee.a,{item:!0,className:Le.a.userInfo,children:[Object(ae.jsxs)(te.a,{className:Le.a.ava,elevation:0,children:[Object(ae.jsx)(V.b,{to:"/social-network/profile/"+t.id,children:Object(ae.jsx)("img",{src:null!==t.photos.small?t.photos.small:_,alt:t.id+" avatar",className:Le.a.img})}),Object(ae.jsx)(Ie.a,{size:"small",onClick:function(){return e.changeFollowStatus(t.id,t.followed)},color:t.followed?"secondary":"primary",style:{opacity:t.followed?"0.3":"1"},disabled:e.followingUsers.some((function(e){return e===t.id})),children:Object(ae.jsx)(Be.a,{fontSize:"small"})})]}),Object(ae.jsxs)(te.a,{className:Le.a.description,children:[Object(ae.jsxs)("div",{className:Le.a.descriptionTop,children:[Object(ae.jsx)(V.b,{to:"/social-network/profile/"+t.id,style:{textDecoration:"none",color:"black"},children:t.name}),Object(ae.jsxs)("div",{style:{fontSize:"15px",textAlign:"center"},children:[Object(ae.jsx)("div",{children:"Belarus,"}),Object(ae.jsx)("div",{children:"Minsk"})]})]}),Object(ae.jsxs)("div",{className:Le.a.descriptionBot,style:{fontSize:"13px"},children:['" ',t.status,' "']})]})]},t.id)})),Object(ae.jsx)(ee.a,{children:t.map((function(t){return Object(ae.jsxs)("span",{className:e.currentPage===t?Le.a.selectedPage:"",onClick:function(a){e.onPageChanged(t)},children:[t," "]})}))})]})},ze=a.p+"static/media/preloader.65c3f468.gif",Ge=function(){return Object(ae.jsx)("div",{children:Object(ae.jsx)("img",{src:ze,alt:"preloader"})})},He=ve(function(e){Object(Ee.a)(a,e);var t=Object(Fe.a)(a);function a(){var e;Object(Ue.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).changeFollowStatus=function(t,a){e.props.followUnfollow(t,a)},e.onPageChanged=function(t){e.props.getUsers(t,e.props.usersPage.pageSize)},e}return Object(De.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.usersPage.currentPage,this.props.usersPage.pageSize)}},{key:"render",value:function(){return Object(ae.jsx)(ae.Fragment,{children:this.props.usersPage.isFetching?Object(ae.jsx)(Ge,{}):Object(ae.jsx)(Re,{users:this.props.usersPage.users,totalCount:this.props.usersPage.totalCount,currentPage:this.props.usersPage.currentPage,pageSize:this.props.usersPage.pageSize,followingUsers:this.props.usersPage.followingUsers,onPageChanged:this.onPageChanged,changeFollowStatus:this.changeFollowStatus})})}}]),a}(K.a.Component)),We=Object(fe.b)((function(e){return{usersPage:e.users}}),{getUsers:function(e,t){return function(a){a(function(e){return{type:D,currentPage:e}}(e)),a(L(!0)),j(e,t).then((function(e){var t,s;a((t=e.items,{type:U,users:t})),a((s=e.items.totalCount,{type:E,totalCount:s})),a(L(!1))}))}},followUnfollow:function(e,t){return function(a){a(B(!0,e)),t?d(e).then((function(t){0===t.resultCode&&(a(function(e){return{type:A,id:e}}(e)),a(B(!1,e)))})):b(e).then((function(t){0===t.resultCode&&(a(function(e){return{type:S,id:e}}(e)),a(B(!1,e)))}))}}})(He),Qe=a.p+"static/media/wrapper.87eb6080.png",Ye=a(158),Je=a(42),Ke=a.n(Je);var Xe=function(e){return e.profile?Object(ae.jsxs)("div",{className:Ke.a.infoContainer,children:[Object(ae.jsx)(Ye.a,{style:{borderRadius:"10px",marginBottom:"10px"},component:"img",src:Qe}),Object(ae.jsxs)("div",{className:Ke.a.mainInfo,children:[Object(ae.jsx)(Ye.a,{style:{borderRadius:"50%",height:"100px",width:"100px"},component:"img",className:Ke.a.ava,src:null!==e.profile.photos.small?e.profile.photos.small:_}),Object(ae.jsxs)("div",{className:Ke.a.description,children:[Object(ae.jsx)("span",{className:Ke.a.fullName,children:e.profile.fullName}),Object(ae.jsx)("span",{children:e.profile.aboutMe})]})]})]}):Object(ae.jsx)(Ge,{})},qe=a(51),Ve=a.n(qe),Ze=a(80),$e=a.n(Ze);var et=function(e){return Object(ae.jsxs)("div",{className:$e.a.item,children:[Object(ae.jsx)("img",{src:o,alt:"userImage"}),e.postContent,Object(ae.jsx)("div",{children:Object(ae.jsxs)("span",{children:[e.postLikes," likes"]})})]})};var tt=function(e){var t=e.profilePage,a=t.postsData.map((function(e){return Object(ae.jsx)(et,{postContent:e.postContent,postLikes:e.postLikes,id:e.id},e.id)}));return Object(ae.jsxs)(ee.a,{item:!0,container:!0,direction:"column",alignContent:"center",children:[Object(ae.jsxs)("div",{className:Ve.a.userNewPosts,children:[Object(ae.jsx)("textarea",{className:Ve.a.textarea,onChange:function(t){e.changePostText(t.currentTarget.value)},value:t.messageForNewPost}),Object(ae.jsx)("button",{className:Ve.a.button,onClick:function(){e.addPost()},children:"Add Post"})]}),a]})},at=Object(fe.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(){e({type:g})},changePostText:function(t){e({type:f,newText:t})}}}))(tt);var st=function(e){return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)(ee.a,{container:!0,direction:"column",children:[Object(ae.jsx)(Xe,{profile:e.profilePage.profile}),Object(ae.jsx)(at,{})]})})},nt=ve(function(e){Object(Ee.a)(a,e);var t=Object(Fe.a)(a);function a(){return Object(Ue.a)(this,a),t.apply(this,arguments)}return Object(De.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.props.getProfile(e)}},{key:"render",value:function(){return Object(ae.jsx)(st,Object(c.a)({},this.props))}}]),a}(K.a.Component)),rt=Object(ne.f)(nt),ct=Object(fe.b)((function(e){return{profilePage:e.profilePage}}),{getProfile:function(e){return function(t){p(e).then((function(e){t({type:O,profile:e})}))}}})(rt),it=a(81),ot=a.n(it),lt=a(159),ut=a(160),jt=a(162),dt=a(166),bt=a(164),pt=a(161),ht=a(163);var gt=function(e){return Object(ae.jsx)(lt.a,{color:"inherit",position:"static",className:ot.a.header,style:{justifyContent:"center"},children:Object(ae.jsxs)(ut.a,{style:{justifyContent:"space-between"},children:[Object(ae.jsx)(Ie.a,{edge:"start",color:"primary","aria-label":"menu",children:Object(ae.jsx)(pt.a,{})}),Object(ae.jsx)(jt.a,{variant:"h6",children:"Social Network"}),Object(ae.jsx)(dt.a,{size:"small",variant:"outlined",color:"primary",placeholder:"Title"}),Object(ae.jsx)(V.b,{to:"/social-network/users-page",children:Object(ae.jsx)(Ie.a,{children:Object(ae.jsx)(ht.a,{color:"primary"})})}),e.isAuth?Object(ae.jsx)(V.b,{to:"/social-network/profile",children:e.data.login}):Object(ae.jsx)(V.b,{to:"/social-network/login-page",children:Object(ae.jsx)(bt.a,{variant:"outlined",color:"primary",children:"Login"})})]})})},ft=function(e){Object(Ee.a)(a,e);var t=Object(Fe.a)(a);function a(){return Object(Ue.a)(this,a),t.apply(this,arguments)}return Object(De.a)(a,[{key:"componentDidMount",value:function(){this.props.authUser()}},{key:"render",value:function(){return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)(gt,{data:this.props.data,isAuth:this.props.isAuth})})}}]),a}(K.a.Component),Ot=Object(fe.b)((function(e){return{data:e.auth.data,isAuth:e.auth.isAuth}}),{authUser:function(){return function(e){h().then((function(t){0===t.resultCode&&e(function(e){return{type:z,data:e}}(t.data))}))}}})(ft),mt=function(){return Object(ae.jsx)(te.a,{children:Object(ae.jsx)("h2",{children:"LOGIN"})})},xt=function(){return Object(ae.jsxs)("div",{className:"app-wrapper",children:[Object(ae.jsx)(Ot,{}),Object(ae.jsx)(Ae.a,{fixed:!0,children:Object(ae.jsxs)(ee.a,{spacing:6,container:!0,direction:"row",justifyContent:"space-around",children:[Object(ae.jsx)(se,{}),Object(ae.jsx)(ee.a,{item:!0,xs:7,children:Object(ae.jsxs)(te.a,{className:"app-wrapper-content",children:[Object(ae.jsx)(ne.b,{path:"/social-network/dialogs",render:function(){return Object(ae.jsx)(_e,{})}}),Object(ae.jsx)(ne.b,{path:"/social-network/profile/:userId?",render:function(){return Object(ae.jsx)(ct,{})}}),Object(ae.jsx)(ne.b,{path:"/social-network/users-page",render:function(){return Object(ae.jsx)(We,{})}}),Object(ae.jsx)(ne.b,{path:"/social-network/music",component:re}),Object(ae.jsx)(ne.b,{path:"/social-network/news",component:ce}),Object(ae.jsx)(ne.b,{path:"/social-network/settings",component:ie}),Object(ae.jsx)(ne.b,{path:"/social-network/login",component:mt})]})}),Object(ae.jsx)(Se,{})]})})]})};q.a.render(Object(ae.jsx)(V.a,{children:Object(ae.jsx)(fe.a,{store:Y,children:Object(ae.jsx)(xt,{})})}),document.getElementById("root")),s()},22:function(e,t,a){e.exports={leftNav:"LeftNavbar_leftNav__3JL1_",navBlock:"LeftNavbar_navBlock__3J2mG",item:"LeftNavbar_item__231RS",navbarTitle:"LeftNavbar_navbarTitle__3N9cF"}},26:function(e,t,a){e.exports={userInfo:"UsersPage_userInfo__3LhNf",img:"UsersPage_img__1NGax",ava:"UsersPage_ava__3q7Md",description:"UsersPage_description__1huTr",descriptionTop:"UsersPage_descriptionTop__1jZU6",descriptionBot:"UsersPage_descriptionBot__2T38C",usersPage:"UsersPage_usersPage__3wZfu",selectedPage:"UsersPage_selectedPage__24X7K"}},30:function(e,t,a){e.exports={rightNav:"RightNavbar_rightNav__1Wsmb",navbarTitle:"RightNavbar_navbarTitle__2b3Ed"}},42:function(e,t,a){e.exports={infoContainer:"ProfileInfo_infoContainer__1BEBN",mainInfo:"ProfileInfo_mainInfo__150Qa",description:"ProfileInfo_description__np7mD",fullName:"ProfileInfo_fullName__1BFQY"}},45:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__14t2F",dialogs_items:"Dialogs_dialogs_items__2Qi4m",messages:"Dialogs_messages__3ydIv",addMessage:"Dialogs_addMessage__1GQ4N"}},51:function(e,t,a){e.exports={userNewPosts:"UserPosts_userNewPosts__3Atrz",textarea:"UserPosts_textarea__2Yy1q",button:"UserPosts_button__23rdz"}},77:function(e,t,a){e.exports={dialog:"DialogItem_dialog__1SljY"}},78:function(e,t,a){e.exports={message:"Message_message__1Kit1"}},79:function(e,t,a){e.exports={contact:"Contacts_contact__35Q3w"}},80:function(e,t,a){e.exports={item:"Post_item__yAHA8"}},81:function(e,t,a){e.exports={header:"Header_header__gRr98"}},92:function(e,t,a){}},[[125,1,2]]]);
//# sourceMappingURL=main.68753b7a.chunk.js.map